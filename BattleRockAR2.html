<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>BR AR-DEMO</title>
    <style>
        #project {
           -webkit-transition: opacity .5s ease-in-out;
           -moz-transition: opacity .5s ease-in-out;
           -ms-transition: opacity .5s ease-in-out;
           -o-transition: opacity .5s ease-in-out;
           transition: opacity .5s ease-in-out;
        }
        .btn {
            background-color: #e7e7e7;
            border: 1px solid black;
            color: black;
            padding: 15px 32px;
            text-align: center;
            text-decoration: none;
            display: inline-block;
            font-size: 16px;
            margin: 4px 2px;
            cursor: pointer;
            border-radius: 12px;
        }
        div.fixed {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 200px;
            border-radius: 25px;
            border: 4px solid black;
            background-color: rgb(255, 255, 255);
        }
        div.fixedCenter {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            border-radius: 25px;
            border: 4px solid black;
            background-color: rgb(255, 255, 255);
        }
        body {
            margin: 0;
            font-family: 'Lato', sans-serif;
        }
        .overlay {
            height: 0%;
            width: 100%;
            position: fixed;
            z-index: 1;
            top: 0;
            left: 0;
            /*background-color: rgb(0,0,0);*/
            background-color: #808080;
            background-color: rgba(0,0,0, 0.8);
            overflow-y: hidden;
            transition: 0.5s;
        }
        .overlay-content {
            position: relative;
            top: 1%;
            width: 100%;
            text-align: center;
            margin-top: 30px;
        }
        .overlay a {
            padding: 8px;
            text-decoration: none;
            font-size: 36px;
            color: #818181;
            display: block;
            transition: 0.3s;
        }
            .overlay a:hover, .overlay a:focus {
                color: #f1f1f1;
            }
        .overlay .closebtn {
            position: absolute;
            top: 20px;
            right: 45px;
            font-size: 60px;
        }
        @media screen and (max-height: 450px) {
            .overlay {
                overflow-y: auto;
            }
            .overlay a {
                font-size: 20px;
            }
            .overlay .closebtn {
                font-size: 40px;
                top: 15px;
                right: 35px;
            }
        }
    </style>
    <script>
        /*
Hello There!
This is an AR demo!
This requires no app, but is free to use from your smartphone or desktop browser!
[next]

What you will need:
x1 BattleRock Marker
(Don't have our Business Card? No problem! Print image off from HERE)
x1 WEBVR capable Device W/ Camera
(Currently working best w/ Chrome on Windows/Android)
(what is WebVR?)
[previous] [next]

SO! You ready?
[No] [Yes]

Okay, well, uhmmm...
Back to the beginning?
[No] [Yes]

(What do you want gif)
[Show me AR]
[Say nothing]

(Blank Stare gif)
[What's with the Sass?]
[Rage Quit]

Sorry, It's been a long time since I've made such a basic
dialogue tree in Javascript.
I will... remove the sass.
*hugs*
I'm ready for the demo if you are :]
[See Demo]
[Exit]


Awesome! So, you ready to try some AR?
[Let's do this!]
[Exit]


[Toggle infinite flame]
[Rotate]
[fullscreen]

        */
        document.addEventListener("DOMContentLoaded", function (event) {
            var projects = [
              new Project('Welcome to our AR Demo!', 
                          'This requires no app, but is free to use from your smartphone/desktop web browser!', 
                          '','-1','1','','Proceed'),
              new Project('What you will need:', 
                          'x1 BattleRock Marker<br/>(Dont have our Business Card? Use Image Below!)<br/>x1 WEBVR capable Device W/ Camera<br/>(Currently working best w/ Chrome on Windows/Android)<br/>(what is WebVR?)',
                          './markers/ARBattleRock5.png','','2','','Next'),
              new Project('SO! You ready?', 
                          '', 
                          'https://unsplash.it/200/?random',
                          '1','3','NO','YES'),
              new Project('Awesome!<br/>Lets do this!', 
                          '', 
                          'https://unsplash.it/200/?random',
                          '','-2','','Im IN!'),
              new Project('Project 5', 
                          'Project 5 Description', 
                          'https://unsplash.it/200F/?random',
                          '-2','-1','Previous','Exit')
            ];

            // Cacheing HTML elements
            var project    = document.querySelector('#project');
            var projName   = document.querySelector('#proj_name');
            var projDescr  = document.querySelector('#proj_description');
            var projImg    = document.querySelector('#proj_img');
            var projBtn1 = document.querySelector('#proj_btn1');
            var projBtn2 = document.querySelector('#proj_btn2');

            function Project(name, description, img, btnInd1,btnInd2,btnTxt1,btnTxt2) {
              this.name = name;
              this.description = description;
              this.img = img;
              this.btnInd1 = btnInd1;
              this.btnInd2 = btnInd2;
              this.btnTxt1 = btnTxt1;
              this.btnTxt2 = btnTxt2;
            }

            function LoadDialogue(e){
                if(e != null && e != ""){
                    
                    if(e == "-1")
                        window.close();
                    if(e == "-2"){
                        closeNav();
                    }
                        
                    project.style.opacity = 0;	// Fade out
                    setTimeout(function(){ 			// Fade in 
                      projName.innerHTML = projects[e].name;
                      projDescr.innerHTML = projects[e].description;
                      
                      //BTN_ONE===============================================
                      projBtn1.setAttribute('data-index',projects[e].btnInd1);  
                      projBtn1.innerHTML = projects[e].btnTxt1;
                      if(projects[e].btnInd1 == "" ||  projBtn1.innerHTML == "")
                            projBtn1.setAttribute('style','display:none;');
                      else{
                            projBtn1.setAttribute('style','');
                      }
                      
                      //BTN_TWO===============================================
                      projBtn2.setAttribute('data-index',projects[e].btnInd2);  
                      projBtn2.innerHTML = projects[e].btnTxt2;
                      if(projects[e].btnInd2 == "" ||  projBtn2.innerHTML == "")
                            projBtn2.setAttribute('style','display:none;');
                      else{
                            projBtn2.setAttribute('style','');
                      }
                      
                      //IMG====================================================
                      if(projects[e].img == ""){
                        projImg.src = "";
                        projImg.style.width = "";
                        projImg.style.height = "";
                      }
                      else{
                        projImg.src = projects[e].img;
                        projImg.style.width = '256px';
                        projImg.style.height = '256px';
                      }
                      project.style.opacity = 1;
                  },600);
              }
            };
                //SET BTN EVENTS and First Dialogue==========
                projBtn1.addEventListener('click', function() {LoadDialogue(this.getAttribute('data-index'));});
                projBtn2.addEventListener('click', function() {LoadDialogue(this.getAttribute('data-index'));});
            
                function toggleFullScreen() {
                if ((document.fullScreenElement && document.fullScreenElement !== null) ||    // alternative standard method
                    (!document.mozFullScreen && !document.webkitIsFullScreen)) {               // current working methods
                if (document.documentElement.requestFullScreen) {
                    document.documentElement.requestFullScreen();
                } else if (document.documentElement.mozRequestFullScreen) {
                    document.documentElement.mozRequestFullScreen();
                } else if (document.documentElement.webkitRequestFullScreen) {
                    document.documentElement.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT);
                }
                } else {
                if (document.cancelFullScreen) {
                    document.cancelFullScreen();
                } else if (document.mozCancelFullScreen) {
                    document.mozCancelFullScreen();
                } else if (document.webkitCancelFullScreen) {
                    document.webkitCancelFullScreen();
                }
                }
            };
            function openNav()  { document.getElementById("myNav").style.height = "100%"; };
            function closeNav() { document.getElementById("myNav").style.height = "0%"; };
            openNav();
            LoadDialogue("0");
        });
    </script>
</head>

<body>    
    <div id="myNav" class="overlay">
        <h1 style="padding-top:0px; text-align:center; left:50%; top:0%; color:white;">BattleRockStudios</h1>
        <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
        <div class="overlay-content" style="color:white; margin-top:0px;">
            <div id="project">
                <H2 id="proj_name"></H2>
                <H4 id="proj_description"></H4>
                <img id="proj_img" src=""><br>
                <div style="display:inline-block;">
                    <button class="btn" id="proj_btn1" data-index="-1">Next Project</button>
                    <button class="btn" id="proj_btn2" data-index="1">Next Project</button>
                </div>
                
                    <!--<audio autoplay loop controls>
                        <source src="./Audio/ThemeWav.ogg" type="audio/ogg">
                        <source src="./Audio/ThemeWav.mp3" type="audio/mpeg">
                        Your browser does not support the audio element.
                    </audio>-->
                    <!--<audio autoplay loop>
                        <source src="./Audio/GGJ2015_Rough4.ogg" type="audio/ogg">
                        <source src="./Audio/GGJ2015_Rough4.mp3" type="audio/mpeg">
                        Your browser does not support the audio element.
                    </audio>-->
                    <!--<audio autoplay loop>
                        <source src="./Audio/song.ogg" type="audio/ogg">
                        <source src="./Audio/song.mp3" type="audio/mpeg">
                        Your browser does not support the audio element.
                    </audio>-->
            </div>
            <a class="button" onclick="toggleFullScreen()" style="position: fixed; top: 0; left: 0; width:32px; height:32px; padding: 5px;">
                <img src="./images/fullscreen.png" style="width:100%;" />
            </a>
        </div>
    </div>
</body>

</html>
