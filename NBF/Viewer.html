<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
	<script src="https://aframe.io/releases/0.5.0/aframe.min.js"></script>		
 	<script src="https://rawgit.com/jeromeetienne/ar.js/master/aframe/build/aframe-ar.js"></script>
	<script>THREEx.ArToolkitContext.baseURL = 'https://rawgit.com/jeromeetienne/ar.js/master/three.js/'</script>
	<style>
		#Desc {
			margin: 0;
			padding: 0;
			position: fixed;
			width: 100%; height: 80px;
			line-height: 10px;
			text-align: center;
			background: white;
			top: 0px; left: 0px;
			border-bottom: 1px solid #00899f;
			z-index: 80;
		}
		#gallery {
			margin: 0;
			padding: 0;
			position: fixed;
			width: 100%; height: 100px;
			line-height: 80px;
			text-align: center;
			background: white;
			bottom: 0px; left: 0px;
			border-top: 1px solid #00899f;
			z-index: 80;
		}
		.row > .column {
		  padding: 0 8px;
		}
		.row:after {
		  content: "";
		  display: table;
		  clear: both;
		}
		.column {
		  float: left;
		  width: 25%;
		  height: 120px;
		}
		img{ margin: 0; padding: 0; }
		A {
			border-radius: 15px;
		    border: 1px solid black;
		    padding: 20px; 
		    width: 200px;
		    height: 150px; 
		}
	</style>
	<script>
		
		var slideIndex = 1;
		var rotate = 0;
		function currentSlide(n) {
		  showSlides(slideIndex = n);
		}
		function showSlides(i) {
			var mdl = document.querySelector('#ModelId');
			var descArr = ["","The lounger","The Professional","The Modest","Chair 4"];
			var descDetail = ["","Sit in your comfort zone!","Get down to business!","Simple, efficient, affordable...why not?","Increase productivity!"];

			document.getElementById("Desc").innerHTML = "<H2>"+descArr[i]+"</H2><p>"+descDetail[i]+"</p>";

			if (i==1) {
				mdl.setAttribute('obj-model', 'obj: #cush-obj; mtl: #cush-mtl;');
				mdl.setAttribute('scale', '0.15 0.15 0.15');
			}
			else if (i==2) {
				mdl.setAttribute('obj-model', 'obj: #chair-test-obj; mtl: #chair-test-mtl;');
				mdl.setAttribute('scale', '0.06 0.06 0.06');
			}
			else if (i==3) {
				mdl.setAttribute('obj-model', 'obj: #basic-obj; mtl: #basic-mtl;');
				mdl.setAttribute('scale', '0.06 0.06 0.06');
			}
			mdl.setAttribute('rotation','0 0 0');
			
			var isOpera = (!!window.opr && !!opr.addons) || !!window.opera || navigator.userAgent.indexOf(' OPR/') >= 0;
			var isFirefox = typeof InstallTrigger !== 'undefined';
			var isSafari = /constructor/i.test(window.HTMLElement) || (function (p) { return p.toString() === "[object SafariRemoteNotification]"; })(!window['safari'] || safari.pushNotification);
			var isIE = /*@cc_on!@*/false || !!document.documentMode;
			var isEdge = !isIE && !!window.StyleMedia;
			var isChrome = !!window.chrome && !!window.chrome.webstore;
			
			

			if(isFirefox == 'true')
			{
				mdl.setAttribute('rotation','90 0 270');
				document.getElementById("Desc").innerHTML = "<H2>Firefox - 90 0 270 </H2>";
			}
			else if(isChrome == 'true')
			{
				mdl.setAttribute('rotation','90 0 270');
				document.getElementById("Desc").innerHTML = "<H2>Chrome - 90 0 270 </H2>";
			}
			else{
				//document.getElementById("Desc").innerHTML = "<H2>NEITHER</H2>";
			}
			document.getElementById("Desc").innerHTML = window.mobileAndTabletcheck;
			
		}
		function switchCamera(){
			
			/*var mdl = document.querySelector('#ModelId');
			var tempRotate = 0;
			if(rotate == 0){
				mdl.setAttribute('rotation','0 0 0');
				mdl.innerHTML = "<a-animation attribute='rotation' dur='7000' easing='linear' repeat='indefinite' to='0 360 0'></a-animation>";
				tempRotate = 1
			}
			else{ 
				mdl.innerHTML = "";
				tempRotate = 0;
			}
			rotate = tempRotate;
			*/
		}
		function toggleFullScreen() {
            if ((document.fullScreenElement && document.fullScreenElement !== null) ||    // alternative standard method
                (!document.mozFullScreen && !document.webkitIsFullScreen)) {               // current working methods
            if (document.documentElement.requestFullScreen) {
                document.documentElement.requestFullScreen();
            } else if (document.documentElement.mozRequestFullScreen) {
                document.documentElement.mozRequestFullScreen();
            } else if (document.documentElement.webkitRequestFullScreen) {
                document.documentElement.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT);
            }
            } else {
            if (document.cancelFullScreen) {
                document.cancelFullScreen();
            } else if (document.mozCancelFullScreen) {
                document.mozCancelFullScreen();
            } else if (document.webkitCancelFullScreen) {
                document.webkitCancelFullScreen();
            }
            }
        };
		window.onload = function() {
			window.mobileAndTabletcheck = function() {
			  var check = false;
			  (function(a){if(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(a.substr(0,4))) check = true;})(navigator.userAgent||navigator.vendor||window.opera);
			  return check;
			};
			showSlides(slideIndex);
		}
	</script>
</head>
<body style='margin : 0px; overflow: hidden;'>
	<!--FULL SCREEN-->
	<a class="button" onclick="toggleFullScreen()" style="position: fixed; top: 0; left: 0; width:32px; height:32px; padding: 5px; z-index: 100;">
        <img src="./Assets/img/fullscreen.png" style="width:100%;" />
    </a>
	<!--ANIMATE -->
	<a class="button" onclick="switchCamera()" style="position: fixed; top: 0; right: 0; width:32px; height:32px; padding: 5px; z-index: 100;">
		<img src="./Assets/img/rotate.png" style="width:100%;" />
	</a>
	
	<div id="Desc">NBF HEADER</div>

	<div id="gallery">
		<div class="row">
		  <div class="column">
		    <img src="./Assets/img/cush.png" style="width:100%" onclick="currentSlide(1)">
		  </div>
		  <div class="column">
		    <img src="./Assets/img/chair-test.png" style="width:100%" onclick="currentSlide(2)">
		  </div>
		  <div class="column">
		    <img src="./Assets/img/basic.png" style="width:100%" onclick="currentSlide(3)">
		  </div>
		</div>
	</div>
	<a-scene embedded artoolkit='sourceType: webcam;'>
	  <a-assets>
		<a-asset-item id="chair-test-obj" src="./Assets/chair-test.obj"></a-asset-item>
		<a-asset-item id="chair-test-mtl" src="./Assets/chair-test.mtl"></a-asset-item>
		  
	  	<a-asset-item id="cush-obj" src="./Assets/cush.obj"></a-asset-item>
		<a-asset-item id="cush-mtl" src="./Assets/cush.mtl"></a-asset-item>
		  
		<a-asset-item id="basic-obj" src="./Assets/basic.obj"></a-asset-item>
		<a-asset-item id="basic-mtl" src="./Assets/basic.mtl"></a-asset-item>
	  </a-assets>
		<!--Marker World!-->
		<a-marker type='pattern' url='./Assets/markers/nbfiii.patt'><!--<a-marker type='unknown' url='#sharpie'>-->
			<a-entity id="ModelId" look-controls material='opacity: 0.8;' scale="1 1 1"></a-entity>
		</a-marker>
		<a-entity camera click-listener></a-entity>
	</a-scene>
</body>
</html>
