<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
	<script src="https://aframe.io/releases/0.5.0/aframe.min.js"></script>		
 	<script src="https://rawgit.com/jeromeetienne/ar.js/master/aframe/build/aframe-ar.js"></script>
	<script>THREEx.ArToolkitContext.baseURL = 'https://rawgit.com/jeromeetienne/ar.js/master/three.js/'</script>
<script>
	AFRAME.registerComponent('click-listener', {
	  init: function () {

	var el = this.el;
	const mdl = document.querySelector('#ModelId');
	const _mdlCnt = 3;

	window.addEventListener('click', function () {
	    var MI = document.getElementById('ModelIndex');

	    var i = 0;
	    i += parseFloat(MI.innerHTML);
		i += 1;
	    if (i > _mdlCnt)
		i = 1;
	    MI.innerHTML = i;
	    if (i==1) {
			mdl.setAttribute('obj-model', 'obj: #desk-obj; mtl: #desk-mtl;');
			mdl.setAttribute('scale', '2.01 2.01 2.01');
	    }
	    else if (i==2) {
			mdl.setAttribute('obj-model', 'obj: #office-chair-obj; mtl: #office-chair-mtl;');
			mdl.setAttribute('position', '0 -2 0');
		    	mdl.setAttribute('scale', '2.25 2.25 2.25');
	    }
	    else if (i==3) {
			mdl.setAttribute('obj-model', 'obj: #chairBrownSeat-obj; mtl: #chairBrownSeat-mtl;');
			mdl.setAttribute('scale', '2.05 2.05 2.05');
	    }
	    });
	  }
	});
</script>
</head>
<body style='margin : 0px; overflow: hidden;'>
	<a-scene embedded artoolkit='sourceType: webcam;'>
	  <a-assets>
		  
		<a-asset-item id="desk-obj" src="./Assets/desk.obj"></a-asset-item>
		<a-asset-item id="desk-mtl" src="./Assets/desk.mtl"></a-asset-item>
		  
	  	<a-asset-item id="office-chair-obj" src="./Assets/office-chair.obj"></a-asset-item>
		<a-asset-item id="office-chair-mtl" src="./Assets/office-chair.mtl"></a-asset-item>
		  
	  	<a-asset-item id="chairBrownSeat-obj" src="./Assets/chairBrownSeat.obj"></a-asset-item>
		<a-asset-item id="chairBrownSeat-mtl" src="./Assets/chairBrownSeat.mtl"></a-asset-item>
		  
	  </a-assets>
		<!--Marker World!-->
		<a-marker type='pattern' url='./Assets/nbfi.patt'><!--<a-marker type='unknown' url='#sharpie'>-->
			<a-entity id="ModelId" material='opacity: 0.8;' scale="1 1 1"></a-entity>
			<div id="ModelIndex">0</div>
		</a-marker>
		<a-entity camera click-listener></a-entity>
	</a-scene>
</body>
</html>
